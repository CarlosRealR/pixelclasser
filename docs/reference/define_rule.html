<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Creates a rule object — define_rule • pixelclasser</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Creates a rule object — define_rule" />
<meta property="og:description" content="Creates an object of class pixel_rule from a line in rgb space,
defined by the user, and a relational operator." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">pixelclasser</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/pixelclasser.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/ropensci/pixelclasser/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Creates a rule object</h1>
    <small class="dont-index">Source: <a href='https://github.com/ropensci/pixelclasser/blob/master/R/define_rule.R'><code>R/define_rule.R</code></a></small>
    <div class="hidden name"><code>define_rule.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Creates an object of class <code>pixel_rule</code> from a line in <code>rgb</code> space,
defined by the user, and a relational operator.</p>
    </div>

    <pre class="usage"><span class='fu'>define_rule</span><span class='op'>(</span><span class='va'>rule_name</span>, <span class='va'>x_axis</span>, <span class='va'>y_axis</span>, <span class='va'>rule_points</span>, <span class='va'>comp_op</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>rule_name</th>
      <td><p>a character string containing the name of the rule.</p></td>
    </tr>
    <tr>
      <th>x_axis</th>
      <td><p>a character string selecting the colour variable used as x
axis, one of <code>"r"</code>, <code>"g"</code> or <code>"b"</code>.</p></td>
    </tr>
    <tr>
      <th>y_axis</th>
      <td><p>a character string selecting the colour variable used as y
axis, one of <code>"r"</code>, <code>"g"</code> or <code>"b"</code>.</p></td>
    </tr>
    <tr>
      <th>rule_points</th>
      <td><p>either an object of  of class <code>"rule_points"</code> created
with function <code><a href='place_rule.html'>place_rule()</a></code>, or a list containing the coordinates of
two points defining the line.</p></td>
    </tr>
    <tr>
      <th>comp_op</th>
      <td><p>a character string containing one of the comparison operators
<code>"&gt;", "&gt;=", "&lt;", "&lt;="</code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A list of class <code>pixel_rule</code> containing the following elements:</p><ul>
<li><p><code>rule_name</code>: a character string containing the rule name.</p></li>
<li><p><code>rule_text</code>: a character string containing the mathematical
  expression of the rule.</p></li>
<li><p><code>comp_op</code>: a character string containing the comparison operator
  used in the rule.</p></li>
<li><p><code>a</code>: a numerical vector containing the parameter <code>a</code>
  (slope) of the line.</p></li>
<li><p><code>c</code>: a numerical vector containing the parameter <code>c</code>
  (intercept) of the line.</p></li>
<li><p><code>x_axis</code>: a character string containing the colour variable
  selected as <code>x</code> axis.</p></li>
<li><p><code>y_axis</code>: a character string containing the colour variable
  selected as <code>y</code> axis.</p></li>
<li><p><code>first_point</code>: a numerical vector containing the coordinates of
  the first point used to estimate the line equation.</p></li>
<li><p><code>second_point</code>: a numerical vector containing the coordinates of
  the second point.</p></li>
</ul>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This function estimates the slope (<code>a</code>) and intercept
  (<code>c</code>) of the line <code>y = ax + c</code> using the coordinates of two
  points on the line. <code>x</code> and <code>y</code> are two colour variables selected
  by the user (<code>r</code>, <code>g</code>, or <code>b</code>). The line divides the plane
  in two subsets and the comparison operator selects the subset that contains
  the points (pixels) of interest.</p>
<p>When a list of two points is passed in <code>rule_points</code>, it is internally
  converted into an an object of class <code>rule_points</code>.</p>
<p>The pair of points used to define the line are not constrained to belong to
  the area occupied by the pixels, but they are used by <code><a href='plot_rule.html'>plot_rule()</a></code> as
  the start and end of the plotted line. Therefore, the extremes of the line
  can be selected in the most convenient way, provided that the line divides
  correctly the categories. Convenience means that the line should seem nice
  in the plot, if this matters.</p>  
<p>Because the variables were transformed into proportions, the pixel are
  always inside the triangle defined by the points <code>(0, 0), (1, 0), (0,
  1)</code>. So, the sides of this triangle can be considered as implicit rules
  which do not need to be created. In this way, a single line creates two
  polygons by cutting the triangle in two. The implicit rules can reduce the
  number of rules to create in most cases.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='define_subcat.html'>define_subcat</a></code>, <code><a href='define_cat.html'>define_cat</a></code>,
  <code><a href='plot_rule.html'>plot_rule</a></code>, <code><a href='plot_rgb_plane.html'>plot_rgb_plane</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># Creating the line by passing the coordinates of two points on the line:</span>
<span class='va'>rule01</span> <span class='op'>&lt;-</span> <span class='fu'>define_rule</span><span class='op'>(</span><span class='st'>"rule01"</span>, <span class='st'>"g"</span>, <span class='st'>"b"</span>,
                      <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.35</span>, <span class='fl'>0.30</span><span class='op'>)</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.45</span>, <span class='fl'>0.10</span><span class='op'>)</span><span class='op'>)</span>,<span class='st'>"&gt;"</span><span class='op'>)</span>

<span class='co'># A vertical line as a rule; note that the equation is simplified</span>
<span class='va'>rule02</span> <span class='op'>&lt;-</span> <span class='fu'>define_rule</span><span class='op'>(</span><span class='st'>"rule02"</span>, <span class='st'>"g"</span>, <span class='st'>"b"</span>,
                      <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.35</span>, <span class='fl'>0.30</span><span class='op'>)</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.35</span>, <span class='fl'>0.00</span><span class='op'>)</span><span class='op'>)</span>, <span class='st'>"&gt;"</span><span class='op'>)</span>
<span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='co'># Creating the rule by passing an object of type rule_point:</span>
<span class='va'>rule_points01</span> <span class='op'>&lt;-</span> <span class='fu'><a href='place_rule.html'>place_rule</a></span><span class='op'>(</span><span class='st'>"g"</span>, <span class='st'>"b"</span><span class='op'>)</span>
<span class='va'>rule03</span> <span class='op'>&lt;-</span> <span class='fu'>define_rule</span><span class='op'>(</span><span class='st'>"rule03"</span>, <span class='st'>"g"</span>, <span class='st'>"b"</span>, <span class='va'>rule_points01</span>,<span class='st'>"&gt;"</span><span class='op'>)</span>

<span class='co'># Note that the creation of the intermediate object can be avoided:</span>
<span class='va'>rule04</span> <span class='op'>&lt;-</span> <span class='fu'>define_rule</span><span class='op'>(</span><span class='st'>"rule04"</span>, <span class='st'>"g"</span>, <span class='st'>"b"</span>, <span class='fu'><a href='place_rule.html'>place_rule</a></span><span class='op'>(</span><span class='st'>"g"</span>, <span class='st'>"b"</span><span class='op'>)</span>,<span class='st'>"&gt;"</span><span class='op'>)</span>
<span class='op'>}</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Carlos Real.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


